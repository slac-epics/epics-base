# ==============================================================================================================
# Documenting changes that happen locally here at SLAC
# Naming Convention: base-<community_version_string>-x.y.z
# x.y.z; major, minor, bug fix locally respectively
# Incrementing, "y" indicates that we have made minor modification to the original EPICS Community Release.
# ==============================================================================================================
R7.0.2-2.0.2:	2024-03-18 Jeremy Lorelli, Mike Browne, Bruce Hill
	Added support for Rocky 9, RHEL9, and RHEL8
	Remove unneeded condition from myReceive to avoid message loss.
	Add fix for MKDIR def getting stepped on by RTEMS makefiles.
	Add missing FILE_TYPE for RESTORE files.
	Fix MSI macro to MSI3_15 in RULES.Alarm
	Add EpicsHostArch support for 2.6.26.8-rt16 and arm-apalis
	Fixed scoping error on gccVers
	Shared lib rpath should not depend on whether or not static libs are also being built.
	Update EpicsHostArch scripts to work on hosts w/o gcc
	Remove stale TODO comment re dbLoad error handling.
	Fix convertRelease.pl generation of envPaths for templated IOCs
	Added gcc494 dependencies to LD_LIBRARY_PATH for rhel7-gcc494-x86_64
	Add support for building rhel7-gcc494-x86_64
	Define MV to mv -f so we can rebuild w/ different host arch.
	Support for building archive and req files from ioc dirs
	Disable support for linux-arm.  Now built in it's own base release as linux-arm-apalis.
	Fix build errors from RULES_BUILD for duplicates in DIRECTORY_TARGETS
	Added list of detected errors for dbLoadSuspendOnError feature.

R7.0.2-2.0.1:	2019-04-30 Bruce Hill
	Merge tag 'R7.0.2.2' into R7.0.2-2.branch
	Add dbLoadSuspendOnError variable to suspend st.cmd on dbLoad related errors.
	From R7.0.2.2 documentation/RELEASE_NOTES.html
		submodule build RULES consolidated into new configure/RULES_MODULES
		Drop CLOCK_MONOTONIC_RAW from posix/osdMonotonic.c
	From R7.0.2.1 documentation/RELEASE_NOTES.html
		Fixed DB_LINK processing loop breaking issue introduced in R7.0.2
		Dropped support for deprecated dbGetFieldType() and dbGetLinkType()

R7.0.2-2.0.0:	2019-01-22 Bruce Hill
	R7.0.2 plus slac-changes plus pcds-changes
	slac-changes:
		Add a versionFile soft link to CONFIG_SITE for eco_tools
		Added -P option to caget and camonitor to show SLAC fiducial pulse ID.
		Disabled commit 67097456 which throws errors when macros w/ the same value are not adjacent.
		Fix seg fault when empty string is passed to caget or cainfo as the pvname parameter
		Applied db-tpro-show-values.patch
		Applied non-rt-thread-priority-zero.patch to fix negative thread priority
		Applied ca-sizes-in-error-msgs.patch
		Applied epics-thread-show-linux-pids.patch so we can see linux pid in epicsThreadShow()
		Applied active-scan-count-exceeded-error-msg.patch for better error msg on Active scan count exceeded
		Applied convertRelease-diag.patch for new convertRelease option and better diagnostics
		Applied osdThread-diag.patch for more verbose mlockall status.
	pcds-changes:
		Applied timestamp-before-writing-output.patch to update timestamp before processing outlinks:
		Applied assert-abort-not-suspend.patch so ioc's exit on uncaught assert exceptions
		PCDS cross compiler settings
		Added checks for special pcds kernels
		Applied pcds-makeBaseApp-templates.patch for pcds templates
		Add makeBaseApp features for pcds template support.

R3.16.1-2.0.0:	2018-02-26 Bruce Hill
	R3.16.1-0.1.0 plus slac-changes plus pcds-changes
	slac-changes:
		Add a versionFile soft link to CONFIG_SITE for eco_tools
		Till's fix for generalTimeGetEvent(), lp: #1747091
		Sort DIRECTORY_TARGETS to avoid errors if 2 FILE_TYPEs have the same INSTALL directory.
		Rework module dependency conflict error message for easier debugging.
		Added -P option to caget and camonitor to show SLAC fiducial pulse ID.
		Fixed camonitor server side relative timestamps bug
		Disabled commit 67097456 which throws errors when macros w/ the same value are not adjacent.
		Applying community patch patches/osiSockOptMcastLoop.patch
		Fix seg fault when empty string is passed to caget or cainfo as the pvname parameter
		Applied db-tpro-show-values.patch
		Applied string-record-strncpy.patch to avoid dangerous strcpy calls
		Applied non-rt-thread-priority-zero.patch to fix negative thread priority
		Applied pv-name-in-ca-error-msgs.patch
		Applied ca-sizes-in-error-msgs.patch
		Applied epics-thread-show-linux-pids.patch so we can see linux pid in epicsThreadShow()
		Applied active-scan-count-exceeded-error-msg.patch for better error msg on Active scan count exceeded
		Applied convertRelease-diag.patch for new convertRelease option and better diagnostics
		Applied osdThread-diag.patch for more verbose mlockall status.
		Applied timestamp-before-writing-output.patch to update timestamp before processing outlinks:
	pcds-changes:
		Applied assert-abort-not-suspend.patch so ioc's exit on uncaught assert exceptions
		PCDS cross compiler settings
		Get linuxRT-x86_64 build support from R3.15.5-2.0.4
		Get RTEMS-beatnik build support from R3.15.5-2.0.4
		Remove unneeded lines in CONFIG_SITE.rhel*.Common
		Added checks for special pcds kernels
		Applied pcds-makeBaseApp-templates.patch for pcds templates
		Add makeBaseApp features for pcds template support.

R3.16.1-0.1.0:	2018-02-15 Bruce Hill
	R3.16.1 plus local slac build support
		Add support for rhel6-x86_64 and rhel7-x86_64 target arches
		Select STATIC_BUILD and set EPICS_SITE_VERSION = 0.1.0
		Set EPICS_TIMEZONE for PST
		Select NCURSES instead of readline

R3.15.5-0.2:	New linuxRT buildroot version?
				Replaced 3 prior patches w/ new lcls-build-support.patch based on final set of changes.
				?, 1/?/2017

R3.15.5-0.1:   Initial Release of R3.15.5 w/ minimal changes for SLAC build support and targets
               Modifications EPICS Configuration files: <>/configure/CONFIG_SITE and <>/configure/CONFIG_SITE_ENV
               Add comment for HOST Build:
               # rhel6-x86_64           (GNU compiler used for host builds)

               Add Comments for SLAC added CROSS Builds:
               # linuxRT-x86_64 (x86_64-buildroot-linux-gnu: cross w/PREEMPT_RT patch; from linux-x86_64 host)
               # linuxRT-i686   (i686-buildroot-linux-gnu: cross w/PREEMPT_RT patch; from linux-x86_64 host)
               # linuxRT-arm_zynq (arm-buildroot-linux-gnueabi: cross w/PREEMPT_RT patch; from linux-x86_64 host)

               For LCLS II and LCLS 1 Mission Readiness, we build the following targets:
                -- CROSS_COMPILER_TARGET_ARCHS=linuxRT-x86_64 linuxRT-i686 linuxRT-arm_zynq \
                                           RTEMS-beatnik RTEMS-mvme3100 RTEMS-uC5282
               Use POSIX thread priority scheduling
               Build both shared and static libraries
                -- EPICS BASE executables/binaries are built statically to support a production deployment scheme
               Always build with debug symbols even in production image
               Update: EPICS_SITE_VERSION = 0.1.0 ==> will append to EPICS version string at IOC runtime

               Modified "CONFIG_SITE_ENV" to prepare EPICS_TIMEZONE for Pacific Timezone.
               Added new config files to <>/configure/os  directory to support HOST build for rhel6
                   CONFIG.Common.rhel6-x86_64
                   CONFIG.Common.rhel6-x86_64-debug
                   CONFIG.rhel6-x86_64-debug.Common
                   CONFIG.rhel6-x86_64-debug.rhel6-x86_64-debug
                   CONFIG.rhel6-x86_64.Common
                   CONFIG.rhel6-x86_64.rhel6-x86_64
                   CONFIG.rhel6-x86_64.rhel6-x86_64-debug
                   CONFIG_SITE.Common.rhel6-x86_64
                   CONFIG_SITE.rhel6-x86_64-debug.rhel6-x86_64-debug
                   CONFIG_SITE.rhel6-x86_64.Common
                   CONFIG_SITE.rhel6-x86_64.RTEMS
                   CONFIG_SITE.rhel6-x86_64.UnixCommon
                   CONFIG_SITE.rhel6-x86_64.rhel6-x86_64
                   CONFIG_SITE.rhel6-x86_64.vxWorks-68040
                   CONFIG_SITE.rhel6-x86_64.vxWorks-ppc603
                   CONFIG_SITE.rhel6-x86_64.vxWorks-ppc603_long
               Added new config files to <>/configure/os  directory to support linuxRT CROSS builds: 
                   CONFIG.Common.linuxRT-arm_zynq
                   CONFIG_SITE.Common.linuxRT-arm_zynq
                   CONFIG.Common.linuxRT-i686
                   CONFIG_SITE.Common.linuxRT-i686
                   CONFIG.Common.linuxRT-x86_64
                   CONFIG_SITE.Common.linuxRT-x86_64

               Update: EPICS_SITE_VERSION = 0.1.0 ==> will append to EPICS version string at IOC runtime

